# 마이 페이지

## 회원정보 수정

- 프로필 사진을 변경하는 경우 AWS S3에서 이전 프로필 사진을 제거하고 추가하였다.

- 비밀번호 변경
  - spring boot security password encoder를 사용하여 암호화하여 DB에 저장
  - 카카오나 구글로 소셜 로그인한경우 일반 계정이 이미 등록되어 있으면 계정연동이 된다. 이런 경우는 로그인시 DB에 저장된 계정의 type을 변경하여 요청하지 못하게 막았다.
  - 변경전 비밀번호가 같은 비밀번호를 입력하면 “이전에 사용하던 비밀번호입니다.”라는 메세지를 반환했다.
- 닉네임 중복체크
  - 닉네임의 길이와 중복여부를 확인후 수정한다.

## 나의 리뷰& 레시피 즐겨찾기 조회

- JWT토큰에 있는 이메일정보로 자신이 쓴 리뷰와 레시피를 조회한다.

## 느낀점

- S3에 프로필 사진을 저장할때 이름을 어떤 형식으로 저장할지 고민이었다. pk key나 개인정보가 유추가능하면 안될것 같아 현재시간을 ms로 저장하였는데 다음엔 닉네임으로 하고 닉네임에 특수문자를 사용하지 못하게 해야겠다’
- 금융 관련 서비스가 아니지만 비밀번호를 암호하 해보았다. 인증한 이메일을 아이디로 쓰는데 이메일도 암호화할 걸 후회된다.
- 다음엔 정규식을 익혀서 닉네임이나 비밀번호 사용가능여부를 체크해야겠다.
